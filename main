import logging
from ai_models import EnhancedAI
from utils import install_playwright, list_files
from git_operations import git_commit_and_push

def main():
    # Set up logging
    logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
    logger = logging.getLogger(__name__)

    logger.info("Synthetic Souls AI Composition Engine started")
    
    # Log all files in the folder
    logger.info("Listing all files in the project folder:")
    list_files()
    
    # Initialize the EnhancedAI with the udioapi token
    udioapi_token = "YOUR_UDIOAPI_TOKEN_HERE"
    enhanced_ai = EnhancedAI(udioapi_token)
    
    # TODO: Add main logic for AI composition here
    
    logger.info("Synthetic Souls AI Composition Engine completed its cycle")

    # Commit and push changes to git
    try:
        git_commit_and_push("Update from Synthetic Souls AI Composition Engine")
    except Exception as e:
        logger.error(f"Failed to push changes: {str(e)}")
        logger.info("Changes were committed but not pushed. You may need to push manually.")

if __name__ == "__main__":
    main()
